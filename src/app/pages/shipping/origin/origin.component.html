<div class="inner_pages shipping_origin">
  <nb-card-header class="main_header">
    <h1 class="page_title">{{ "SHIPPING.ORIGIN" | translate }}</h1>
    <div class="content_spacing" *ngIf="isSuperAdmin">
      <div class="select_store">
        <!-- <ngx-store-autocomplete (onStore)="onSelectStore($event)"></ngx-store-autocomplete> -->
        <p-dropdown
          *ngIf="stores.length > 0"
          [options]="stores"
          [filter]="true"
          (onChange)="onSelectStore($event)"
        >
          <ng-template let-item pTemplate="selectedItem">{{
            item.label
          }}</ng-template>
          <ng-template let-car pTemplate="item">{{ car.label }}</ng-template>
        </p-dropdown>
      </div>
    </div>
    <div class="content_spacing">
      <button
        type="submit"
        nbButton
        class="success_button"
        (click)="onSubmit()"
        [disabled]="!originForm.form.valid"
      >
        {{ "COMMON.SAVE" | translate }}
      </button>
    </div>
  </nb-card-header>

  <div
    class=""
    [nbSpinner]="loadingList"
    nbSpinnerSize="large"
    nbSpinnerStatus="primary"
  >
    <form #originForm="ngForm" role="form">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <nb-card class="nb-card inline-form-card">
            <nb-card-body class="nb-card-body">
              <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="form-group">
                    <nb-checkbox [(ngModel)]="visible" name="visible">{{
                      "COMMON.ACTIVE" | translate
                    }}</nb-checkbox>
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="form-group">
                    <label class="label inputLabel"
                      >{{ "ORDER_FORM.STREET_ADDRESS" | translate
                      }}<span>*</span></label
                    >
                    <input
                      type="text"
                      class="form-control inputText"
                      placeholder="{{
                        'ORDER_FORM.STREET_ADDRESS' | translate
                      }}"
                      [(ngModel)]="shipOriginForm.address"
                      name="address"
                      required
                      #address="ngModel"
                    />
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="form-group">
                    <label class="label inputLabel"
                      >{{ "ORDER_FORM.CITY" | translate }}<span>*</span></label
                    >
                    <input
                      type="text"
                      class="form-control inputText"
                      placeholder="{{ 'ORDER_FORM.CITY' | translate }}"
                      [(ngModel)]="shipOriginForm.city"
                      name="city"
                      required
                      #city="ngModel"
                    />
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="form-group">
                    <label class="label inputLabel"
                      >{{ "ORDER_FORM.COUNTRY" | translate
                      }}<span>*</span></label
                    >
                    <nb-select
                      *ngIf="countries.length > 0"
                      placeholder="{{
                        'ORDER_FORM.SELECT_COUNTRY' | translate
                      }}"
                      outline
                      shape="rectangle"
                      [(ngModel)]="shipOriginForm.country"
                      name="country"
                      (selectedChange)="onCountryChange($event)"
                      class="select_fields"
                      required
                    >
                      <nb-option
                        *ngFor="let country of countries"
                        [value]="country.countryCode"
                        >{{ country.label }}
                      </nb-option>
                    </nb-select>
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="form-group" *ngIf="states.length > 0">
                    <label class="label inputLabel"
                      >{{ "ORDER_FORM.STATE" | translate }}<span>*</span></label
                    >
                    <nb-select
                      placeholder="{{ 'ORDER_FORM.SELECT_STATE' | translate }}"
                      class="select_fields"
                      outline
                      shape="rectangle"
                      [(ngModel)]="shipOriginForm.stateProvince"
                      name="stateProvince"
                      required
                    >
                      <nb-option
                        *ngFor="let state of states"
                        [value]="state.stateCode"
                        >{{ state.label }}
                      </nb-option>
                    </nb-select>
                  </div>
                  <div class="form-group" *ngIf="states.length == 0">
                    <label class="label inputLabel"
                      >{{ "ORDER_FORM.STATE" | translate }}<span>*</span></label
                    >
                    <input
                      type="text"
                      class="form-control inputText"
                      placeholder="{{ 'ORDER_FORM.ENTER_STATE' | translate }}"
                      [(ngModel)]="shipOriginForm.stateProvince"
                      name="stateProvince"
                      required
                    />
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="form-group">
                    <label class="label inputLabel"
                      >{{ "ORDER_FORM.POSTAL_CODE" | translate
                      }}<span>*</span></label
                    >
                    <input
                      type="text"
                      class="form-control inputText"
                      placeholder="{{ 'ORDER_FORM.POSTAL_CODE' | translate }}"
                      [(ngModel)]="shipOriginForm.postalCode"
                      name="postalCode"
                      required
                      #postalCode="ngModel"
                    />
                  </div>
                </div>
              </div>
            </nb-card-body>
          </nb-card>
        </div>
      </div>
    </form>
  </div>
</div>
